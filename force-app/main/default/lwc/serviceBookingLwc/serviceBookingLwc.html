<template>
    <lightning-card title="Service Appointment Booking">
    
             <lightning-input type="text" name="serviceBookingName" label="Service Booking Name" value={serviceBookingName} required  onchange={handleDateChange}></lightning-input>
            <div class="slds-form-element">
            <label class="slds-form-element__label" for="combobox-id-4" id="combobox-label-id-32">Technician Name</label>
            <div class="slds-form-element__control">
            <div class="slds-combobox_container">
            <div class="slds-combobox slds-dropdown-trigger slds-dropdown-trigger_click slds-is-open">
            <div class="slds-combobox__form-element slds-input-has-icon slds-input-has-icon_right" role="none">
            <input type="text" class="slds-input slds-combobox__input slds-has-focus slds-combobox__input-value" id="combobox-id-4" aria-activedescendant="option1" aria-autocomplete="list" aria-controls="listbox-id-4" aria-expanded="true" aria-haspopup="listbox" role="combobox"
            placeholder="Technician..." onkeyup={inputHandler} value={selectedTechName} />
            <template if:true={displaySearchIcon}>
            <span class="slds-icon_container slds-icon-utility-search slds-input__icon slds-input__icon_right">
            <lightning-icon icon-name="utility:search" size="x-small"></lightning-icon>
            </span>
            </template>
            </div>
            <template if:true={displayTechinicians}>
            <div id="listbox-id-4" class="slds-dropdown slds-dropdown_length-with-icon-7 slds-dropdown_fluid" role="listbox" tabindex="0" aria-busy="false">
            <ul class="slds-listbox slds-listbox_vertical" role="presentation">
            <li role="presentation" class="slds-listbox__item">
            
            </li>
            <template for:each={techResult} for:item="technician">

            <li key={technician.Id} role="presentation" class="slds-listbox__item">
            <div data-id={technician.Id} class="slds-media slds-listbox__option slds-listbox__option_entity slds-listbox__option_has-meta" role="option" 
            onclick={userClickHandler}>
            <span class="slds-media__figure slds-listbox__option-icon">
            <span class="slds-icon_container slds-icon-standard-account">
            <lightning-icon icon-name="standard:user" size="small"></lightning-icon>
            </span>
            </span>
            <span class="slds-media__body">
            <span class="slds-listbox__option-text slds-listbox__option-text_entity">
            <span>
            <mark >{technician.FirstName}</mark> {technician.LastName}</span>
            </span>
            <span class="slds-listbox__option-meta slds-listbox__option-meta_entity">{technician.CompanyName}</span>
            </span>


            </div>
            </li>
            </template>

            </ul>
            </div>
            </template>
            </div>
            </div>
            </div>
            </div>


            <lightning-input type="datetime" name="startDateTime" label="Start Date Time" required  onchange={handleDateChange}></lightning-input>
            <lightning-input type="datetime" name="endDateTime" label="End Date Time" required  onchange={handleDateChange}></lightning-input>
            <div class="slds-m-top_large slds-grid slds-grid_align-center">
            <lightning-button variant="brand" label="Save" title="Save" icon-name="utility:save" icon-position="right" 
            onclick={handleSave} class="slds-m-left_x-small" disabled={buttonDisabled}></lightning-button>
            </div>
    </lightning-card>

</template>